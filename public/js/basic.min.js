$(document).ready((function(){function e(e){if((e=e.trim()).length<3){var a=$(".search-list");return a.find(".list-items").html('<div class="search-error">Search value must contain at least 3 characters.</div>'),a.show(),!0}$(".search-list .list-items").html('<img width="50" height="50" src="../assets/gifs/loading.gif" />'),$(".search-list").show(),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({url:"/global-search",method:"get",dataType:"json",data:{keyword:e}}).done((function(e){var a='<hr><div class="total-items"><b>'+e.total+"</b><span> items have been found!</span></div><hr>";0!==e.total&&e.data.forEach((function(e){var t=new Date(e.created_at);a+='<li><div class="item-protocol"><a target="_blank" href="/protocol/'+e.id+'">'+e.protocol+"</a><span><b>Created:</b> "+t.getFullYear()+"-"+Number(t.getMonth()+1)+"-"+t.getDate()+'</span></div><div class="item-creator"><b>Creator:</b> '+e.creator+'</div><div class="item-receiver"><b>Receiver:</b> '+e.receiver+"</div>",null!==e.ingoing_protocol?a+='<div class="item-ingoing"><b>Ingoing Protocol:</b> '+e.ingoing_protocol+"</div></li><hr>":a+="</li><hr>"})),$(".search-list .list-items").html(a),$(".search-list").show()})).fail((function(e){$(".search-list .list-items").html('<div class="search-error">An unexpected error has been occurred!</div>'),$(".search-list").show()}))}$(".hamburger .fas").click((function(){$(".page_wrapper").addClass("active")})),$(".page_wrapper .sidebar .close").click((function(){$(".page_wrapper").removeClass("active")})),$("#globalSearch").keyup((function(a){13===a.keyCode&&e(this.value)})),$(".search .fas").click((function(){e($("#globalSearch").val())}))})),$(document).mouseup((function(e){var a=$(".search-list");a.is(e.target)||0!==a.has(e.target).length||a.hide()}));