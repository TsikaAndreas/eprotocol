$(document).ready((function(){function e(e){if((e=e.trim()).length<3){var t=$(".search-list");return t.find(".list-items").html('<div class="search-error">Search value must contain at least 3 characters.</div>'),t.show(),!0}$(".search-list .list-items").html('<img width="50" height="50" src="../assets/gifs/loading.gif" />'),$(".search-list").show(),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({url:"/global-search",method:"get",dataType:"json",data:{keyword:e}}).done((function(e){var t='<hr><div class="total-items"><b>'+e.total+"</b><span> items have been found!</span></div><hr>";0!==e.total&&e.data.forEach((function(e){var a=new Date(e.created_at);t+='<li><div class="item-protocol"><a target="_blank" href="/protocol/'+e.id+'">'+e.protocol+"</a><span><b>Created:</b> "+a.getFullYear()+"-"+Number(a.getMonth()+1)+"-"+a.getDate()+'</span></div><div class="item-creator"><b>Creator:</b> '+e.creator+'</div><div class="item-receiver"><b>Receiver:</b> '+e.receiver+"</div>",null!==e.incoming_protocol?t+='<div class="item-incoming"><b>incoming Protocol:</b> '+e.incoming_protocol+"</div></li><hr>":t+="</li><hr>"})),$(".search-list .list-items").html(t),$(".search-list").show()})).fail((function(e){$(".search-list .list-items").html('<div class="search-error">An unexpected error has been occurred!</div>'),$(".search-list").show()}))}$(".hamburger .fas").click((function(){$(".page_wrapper").addClass("active")})),$(".page_wrapper .sidebar .close").click((function(){$(".page_wrapper").removeClass("active")})),$("#globalSearch").keyup((function(t){13===t.keyCode&&e(this.value)})),$(".search .fas").click((function(){e($("#globalSearch").val())})),document.querySelectorAll(".active-eye").forEach((function(e){e.addEventListener("click",(function(e){var t=e.target.previousElementSibling;"password"===t.getAttribute("type")?(t.setAttribute("type","text"),e.target.classList.remove("fa-eye-slash"),e.target.classList.add("fa-eye")):(t.setAttribute("type","password"),e.target.classList.remove("fa-eye"),e.target.classList.add("fa-eye-slash"))}))}));var t=$('div[role="alert"]').find(".close-alert");t.length>0&&t.on("click",(function(e){e.target.closest('div[role="alert"]').remove()}))})),$(document).mouseup((function(e){var t=$(".search-list");t.is(e.target)||0!==t.has(e.target).length||t.hide()}));